<!DOCTYPE html>
<!--Cấu hình layout cho Thymleaf-->
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/layout}">
<head>
  <title>Acount</title>
  <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"-->
  <!--          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">-->

  <!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">-->
  <style>
    .tab-button {
      margin: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body class="bg-light">

<section layout:fragment="content">
  <div class="container mt-4">
    <h1 class="text-center mb-4">Quản lý tài khoản</h1>

    <div class="text-center mb-3">
      <a th:href="@{/admin/quanlytaikhoan(activeTab='nhanvien')}" class="btn btn-primary tab-button"
         th:classappend="${activeTab} == 'nhanvien' ? 'btn-success' : ''">Nhân viên</a>
      <a th:href="@{/admin/quanlytaikhoan(activeTab='khachhang')}" class="btn btn-primary tab-button"
         th:classappend="${activeTab} == 'khachhang' ? 'btn-success' : ''">Khách hàng</a>
    </div>

    <!-- Nhân viên -->
    <div th:if="${activeTab} == 'nhanvien'">
      <div class="d-flex justify-content-end mb-2">
        <form th:action="@{/admin/quanlytaikhoan/searchNhanVien}" method="get" class="d-flex">
          <input type="number" name="id" class="form-control me-2" placeholder="Tìm ID nhân viên" required>
          <button type="submit" class="btn btn-secondary">Tìm</button>
        </form>
      </div>

      <div class="card p-3 mb-4">
        <h5 th:text="${nhanvien.id} != null ? 'Cập nhật nhân viên' : 'Thêm nhân viên'"></h5>
        <form th:action="@{/admin/quanlytaikhoan/saveNhanVien}" method="post" class="row g-3">
          <input type="hidden" th:field="${nhanvien.id}"/>
          <div class="col-md-4"><input class="form-control" placeholder="Mã" th:field="${nhanvien.ma}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Tên" th:field="${nhanvien.ten}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${nhanvien.ngaySinh}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="SĐT" th:field="${nhanvien.soDienThoai}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${nhanvien.ngayThamGia}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="CMND" th:field="${nhanvien.chungMinhThu}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Giới tính" th:field="${nhanvien.gioiTinh}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Ảnh" th:field="${nhanvien.anh}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Email" th:field="${nhanvien.email}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Mật khẩu" th:field="${nhanvien.matKhau}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Người tạo" th:field="${nhanvien.nguoiTao}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Người sửa" th:field="${nhanvien.nguoiSua}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${nhanvien.ngaySua}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${nhanvien.ngayTao}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Chức vụ" th:field="${nhanvien.chucVu}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Trạng thái" th:field="${nhanvien.trangThai}" required></div>
          <div class="col-12">
            <button type="submit" class="btn btn-success w-100"
                    th:text="${nhanvien.id} != null ? 'Cập nhật' : 'Thêm nhân viên'"></button>
          </div>
        </form>
      </div>

      <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
        <tr>
          <th>ID</th><th>Mã</th><th>Tên</th><th>Ngày sinh</th><th>Điện thoại</th><th>Ngày tham gia</th>
          <th>CMND</th><th>Giới tính</th><th>Ảnh</th><th>Email</th><th>Mật khẩu</th><th>Người tạo</th>
          <th>Người sửa</th><th>Ngày sửa</th><th>Ngày tạo</th><th>Chức vụ</th><th>Trạng thái</th><th>Thao tác</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="nv : ${nhanvienList}">
          <td th:text="${nv.id}"></td>
          <td th:text="${nv.ma}"></td>
          <td th:text="${nv.ten}"></td>
          <td th:text="${nv.ngaySinh}"></td>
          <td th:text="${nv.soDienThoai}"></td>
          <td th:text="${nv.ngayThamGia}"></td>
          <td th:text="${nv.chungMinhThu}"></td>
          <td th:text="${nv.gioiTinh}"></td>
          <td th:text="${nv.anh}"></td>
          <td th:text="${nv.email}"></td>
          <td th:text="${nv.matKhau}"></td>
          <td th:text="${nv.nguoiTao}"></td>
          <td th:text="${nv.nguoiSua}"></td>
          <td th:text="${nv.ngaySua}"></td>
          <td th:text="${nv.ngayTao}"></td>
          <td th:text="${nv.chucVu}"></td>
          <td th:text="${nv.trangThai}"></td>
          <td>
            <a class="btn btn-sm btn-warning" th:href="@{'/admin/quanlytaikhoan/editNhanVien?id=' + ${nv.id}}">Sửa</a>
            <a class="btn btn-sm btn-danger" th:href="@{'/admin/quanlytaikhoan/deleteNhanVien?id=' + ${nv.id}}">Xóa</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Khách hàng -->
    <div th:if="${activeTab} == 'khachhang'">
      <div class="d-flex justify-content-end mb-2">
        <form th:action="@{/admin/quanlytaikhoan/searchKhachHang}" method="get" class="d-flex">
          <input type="number" name="id" class="form-control me-2" placeholder="Tìm ID khách hàng" required>
          <button type="submit" class="btn btn-secondary">Tìm</button>
        </form>
      </div>

      <div class="card p-3 mb-4">
        <h5 th:text="${khachhang.id} != null ? 'Cập nhật khách hàng' : 'Thêm khách hàng'"></h5>
        <form th:action="@{/admin/quanlytaikhoan/saveKhachHang}" method="post" class="row g-3">
          <input type="hidden" th:field="${khachhang.id}"/>
          <div class="col-md-4"><input class="form-control" placeholder="Mã" th:field="${khachhang.ma}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Tên" th:field="${khachhang.ten}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${khachhang.ngaySinh}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="SĐT" th:field="${khachhang.soDienThoai}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${khachhang.ngayThamGia}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Giới tính" th:field="${khachhang.gioiTinh}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Email" th:field="${khachhang.email}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Mật khẩu" th:field="${khachhang.matKhau}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Người tạo" th:field="${khachhang.nguoiTao}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Người sửa" th:field="${khachhang.nguoiSua}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${khachhang.ngaySua}" required></div>
          <div class="col-md-4"><input class="form-control" type="date" th:field="${khachhang.ngayTao}" required></div>
          <div class="col-md-4"><input class="form-control" placeholder="Trạng thái" th:field="${khachhang.trangThai}" required></div>
          <div class="col-12">
            <button type="submit" class="btn btn-success w-100"
                    th:text="${khachhang.id} != null ? 'Cập nhật' : 'Thêm khách hàng'"></button>
          </div>
        </form>
      </div>

      <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
        <tr>
          <th>ID</th><th>Mã</th><th>Tên</th><th>Ngày sinh</th><th>Điện thoại</th><th>Ngày tham gia</th>
          <th>Giới tính</th><th>Email</th><th>Mật khẩu</th><th>Người tạo</th>
          <th>Người sửa</th><th>Ngày sửa</th><th>Ngày tạo</th><th>Trạng thái</th><th>Thao tác</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="kh : ${khachhangList}">
          <td th:text="${kh.id}"></td>
          <td th:text="${kh.ma}"></td>
          <td th:text="${kh.ten}"></td>
          <td th:text="${kh.ngaySinh}"></td>
          <td th:text="${kh.soDienThoai}"></td>
          <td th:text="${kh.ngayThamGia}"></td>
          <td th:text="${kh.gioiTinh}"></td>
          <td th:text="${kh.email}"></td>
          <td th:text="${kh.matKhau}"></td>
          <td th:text="${kh.nguoiTao}"></td>
          <td th:text="${kh.nguoiSua}"></td>
          <td th:text="${kh.ngaySua}"></td>
          <td th:text="${kh.ngayTao}"></td>
          <td th:text="${kh.trangThai}"></td>
          <td>
            <a class="btn btn-sm btn-warning" th:href="@{'/admin/quanlytaikhoan/editKhachHang?id=' + ${kh.id}}">Sửa</a>
            <a class="btn btn-sm btn-danger" th:href="@{'/admin/quanlytaikhoan/deleteKhachHang?id=' + ${kh.id}}">Xóa</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

</body>
</html>








